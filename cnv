zcat gencode.v43.annotation.gtf.gz | awk '
BEGIN {
  OFS="\t"
  print "chr","start","end","gene"
}

$0 !~ /^#/ && $3=="gene" {

  chr=$1
  start=$4
  end=$5

  n = split($0, a, ";")
  gene="NA"

  for (i=1; i<=n; i++) {
    if (a[i] ~ /gene_name/) {
      sub(/.*gene_name "/, "", a[i])
      sub(/".*/, "", a[i])
      gene = a[i]
    }
  }

  print chr,start,end,gene
}
' | head
